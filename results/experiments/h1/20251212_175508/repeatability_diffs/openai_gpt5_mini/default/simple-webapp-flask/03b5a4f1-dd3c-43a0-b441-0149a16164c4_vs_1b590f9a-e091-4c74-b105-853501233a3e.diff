--- 03b5a4f1-dd3c-43a0-b441-0149a16164c4
+++ 1b590f9a-e091-4c74-b105-853501233a3e
@@ -1,21 +1,32 @@
 @@FILE:Dockerfile::Dockerfile
 FROM python:3.11-slim
 
-# Set working directory
+# set working directory
 WORKDIR /app
 
-# Install dependencies
+# copy requirements and install
 COPY requirements.txt ./
 RUN pip install --no-cache-dir -r requirements.txt
 
-# Copy application
-COPY . /app
+# copy application
+COPY app.py ./
 
-# Expose port
+# expose port
 EXPOSE 8080
 
-# Default command
+# run
 CMD ["python", "app.py"]
+@@FILE:K8s::k8s/README.txt
+Kubernetes manifests included:
+- deployment.yaml: Deployment for the Flask app (image: simple-webapp-flask:latest)
+- service.yaml: ClusterIP Service exposing port 80 -> containerPort 8080
+- ingress.yaml: Ingress for host simple-webapp-flask.rasztabiga.me
+
+Build Docker image with:
+  docker build -t simple-webapp-flask:latest .
+
+Apply manifests:
+  kubectl apply -f k8s/
 @@FILE:K8s::k8s/deployment.yaml
 apiVersion: apps/v1
 kind: Deployment
@@ -32,50 +43,47 @@
         app: simple-webapp-flask
     spec:
       containers:
-        - name: simple-webapp-flask
-          image: simple-webapp-flask:latest
-          imagePullPolicy: IfNotPresent
-          ports:
-            - containerPort: 8080
-              name: http
-          resources:
-            requests:
-              cpu: "100m"
-              memory: "128Mi"
-            limits:
-              cpu: "250m"
-              memory: "256Mi"
-          livenessProbe:
-            httpGet:
-              path: /
-              port: http
-            initialDelaySeconds: 5
-            periodSeconds: 10
-          readinessProbe:
-            httpGet:
-              path: /
-              port: http
-            initialDelaySeconds: 2
-            periodSeconds: 5
+      - name: simple-webapp-flask
+        image: simple-webapp-flask:latest
+        imagePullPolicy: IfNotPresent
+        ports:
+        - containerPort: 8080
+        resources:
+          requests:
+            cpu: "100m"
+            memory: "128Mi"
+          limits:
+            cpu: "500m"
+            memory: "256Mi"
+        livenessProbe:
+          httpGet:
+            path: /
+            port: 8080
+          initialDelaySeconds: 5
+          periodSeconds: 10
+        readinessProbe:
+          httpGet:
+            path: /
+            port: 8080
+          initialDelaySeconds: 2
+          periodSeconds: 5
 @@FILE:K8s::k8s/ingress.yaml
 apiVersion: networking.k8s.io/v1
 kind: Ingress
 metadata:
   name: simple-webapp-flask-ingress
-  annotations:
-    nginx.ingress.kubernetes.io/rewrite-target: /
 spec:
   rules:
-    - host: simple-webapp-flask.rasztabiga.me
-      http:
-        paths:
-          - path: /
-            pathType: Prefix
-            backend:
-              service:
-                name: simple-webapp-flask
-                port:
-                  number: 80
+  - host: simple-webapp-flask.rasztabiga.me
+    http:
+      paths:
+      - path: /
+        pathType: Prefix
+        backend:
+          service:
+            name: simple-webapp-flask
+            port:
+              number: 80
 @@FILE:K8s::k8s/service.yaml
 apiVersion: v1
 kind: Service
@@ -85,8 +93,7 @@
   selector:
     app: simple-webapp-flask
   ports:
-    - protocol: TCP
-      port: 80
-      targetPort: 8080
-      name: http
+  - protocol: TCP
+    port: 80
+    targetPort: 8080
   type: ClusterIP