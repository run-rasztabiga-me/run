--- cc7ca855-6ee0-48a3-b1fa-c14773032639
+++ c043a556-5201-4cc5-a8f9-7944b6eb6d44
@@ -1,26 +1,18 @@
 @@FILE:Dockerfile::Dockerfile
 
-# Use an official Python runtime as a parent image
 FROM python:3.9-slim-buster
 
-# Set the working directory in the container
 WORKDIR /app
 
-# Copy the requirements file into the container at /app
 COPY requirements.txt .
-
-# Install any needed packages specified in requirements.txt
 RUN pip install --no-cache-dir -r requirements.txt
 
-# Copy the rest of the application code into the container at /app
-COPY app/ ./app/
+COPY ./app .
 
-# Expose port 8000 for the application
 EXPOSE 8000
 
-# Run the application using uvicorn
-CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
-@@FILE:K8s::k8s/deployment.yaml
+CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
+@@FILE:K8s::k8s/poc1-fastapi-deployment.yaml
 apiVersion: apps/v1
 kind: Deployment
 metadata:
@@ -62,14 +54,13 @@
             port: 8000
           initialDelaySeconds: 5
           periodSeconds: 5
-@@FILE:K8s::k8s/ingress.yaml
+@@FILE:K8s::k8s/poc1-fastapi-ingress.yaml
 apiVersion: networking.k8s.io/v1
 kind: Ingress
 metadata:
   name: poc1-fastapi-ingress
   annotations:
     nginx.ingress.kubernetes.io/ssl-redirect: "false"
-    kubernetes.io/ingress.class: "nginx"
 spec:
   rules:
   - host: poc1-fastapi.rasztabiga.me
@@ -82,11 +73,13 @@
             name: poc1-fastapi-service
             port:
               number: 80
-@@FILE:K8s::k8s/service.yaml
+@@FILE:K8s::k8s/poc1-fastapi-service.yaml
 apiVersion: v1
 kind: Service
 metadata:
   name: poc1-fastapi-service
+  labels:
+    app: poc1-fastapi
 spec:
   selector:
     app: poc1-fastapi
@@ -94,3 +87,4 @@
     - protocol: TCP
       port: 80
       targetPort: 8000
+  type: ClusterIP