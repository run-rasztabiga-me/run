--- 64638523-7bb8-4ff8-9f5e-02e02a0249b3
+++ 48aaff76-6bba-4153-9428-71a0469ae292
@@ -1,6 +1,6 @@
 @@FILE:Dockerfile::Dockerfile
 # Build stage
-FROM node:20-alpine AS builder
+FROM node:18-alpine AS build
 
 WORKDIR /app
 
@@ -8,9 +8,9 @@
 COPY package.json yarn.lock ./
 
 # Install dependencies
-RUN yarn install --frozen-lockfile
+RUN yarn install --frozen-lockfile --production=false
 
-# Copy source files
+# Copy source code
 COPY . .
 
 # Build the application
@@ -19,10 +19,10 @@
 # Production stage
 FROM nginx:alpine
 
-# Copy built assets from builder stage
-COPY --from=builder /app/dist /usr/share/nginx/html
+# Copy built files from build stage
+COPY --from=build /app/dist /usr/share/nginx/html
 
-# Copy nginx configuration for SPA routing
+# Copy nginx configuration
 COPY nginx.conf /etc/nginx/conf.d/default.conf
 
 # Expose port 80
@@ -48,52 +48,49 @@
         app: csv-hero
     spec:
       containers:
-        - name: csv-hero
-          image: csv-hero:latest
-          imagePullPolicy: IfNotPresent
-          ports:
-            - containerPort: 80
-              protocol: TCP
-          resources:
-            requests:
-              memory: "64Mi"
-              cpu: "50m"
-            limits:
-              memory: "128Mi"
-              cpu: "200m"
-          livenessProbe:
-            httpGet:
-              path: /health
-              port: 80
-            initialDelaySeconds: 10
-            periodSeconds: 30
-          readinessProbe:
-            httpGet:
-              path: /health
-              port: 80
-            initialDelaySeconds: 5
-            periodSeconds: 10
+      - name: csv-hero
+        image: csv-hero
+        imagePullPolicy: IfNotPresent
+        ports:
+        - containerPort: 80
+        resources:
+          requests:
+            memory: "128Mi"
+            cpu: "100m"
+          limits:
+            memory: "256Mi"
+            cpu: "200m"
+        livenessProbe:
+          httpGet:
+            path: /
+            port: 80
+          initialDelaySeconds: 10
+          periodSeconds: 10
+        readinessProbe:
+          httpGet:
+            path: /
+            port: 80
+          initialDelaySeconds: 5
+          periodSeconds: 5
 @@FILE:K8s::k8s/ingress.yaml
 apiVersion: networking.k8s.io/v1
 kind: Ingress
 metadata:
   name: csv-hero
-  labels:
-    app: csv-hero
   annotations:
     nginx.ingress.kubernetes.io/rewrite-target: /
 spec:
   rules:
-    - host: csv-hero.rasztabiga.me
-      http:
-        paths:
-          - path: /
-            pathType: Prefix
-            backend:
-              service:
-                name: csv-hero
-                port:
-                  number: 80
+  - host: csv-hero.rasztabiga.me
+    http:
+      paths:
+      - path: /
+        pathType: Prefix
+        backend:
+          service:
+            name: csv-hero
+            port:
+              number: 80
 @@FILE:K8s::k8s/service.yaml
 apiVersion: v1
 kind: Service
@@ -102,10 +99,10 @@
   labels:
     app: csv-hero
 spec:
-  type: ClusterIP
   selector:
     app: csv-hero
   ports:
-    - port: 80
-      targetPort: 80
-      protocol: TCP
+  - port: 80
+    targetPort: 80
+    protocol: TCP
+  type: ClusterIP